graph TB
    %% External Actors
    DataAnalyst["ğŸ‘¨â€ğŸ’¼ Analista de Datos<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ¯ **Usuario Principal**<br/>â€¢ Inicia campaÃ±as de web scraping<br/>â€¢ Define especificaciones de extracciÃ³n<br/>â€¢ Monitorea progreso en tiempo real<br/>â€¢ Revisa mÃ©tricas de calidad de datos<br/>â€¢ Configura automatizaciÃ³n y programaciÃ³n<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**Interacciones:**<br/>â†’ EnvÃ­a trabajos de scraping vÃ­a API<br/>â†’ Monitorea tableros de ejecuciÃ³n<br/>â†’ Descarga conjuntos de datos estructurados<br/>â†’ Configura polÃ­ticas de reintentos"]

    BusinessStakeholder["ğŸ‘©â€ğŸ’¼ Interesado de Negocio<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ¢ **Usuario EstratÃ©gico**<br/>â€¢ Solicita inteligencia competitiva<br/>â€¢ Define requisitos de datos del negocio<br/>â€¢ Revisa reportes de anÃ¡lisis de mercado<br/>â€¢ Aprueba polÃ­ticas de cumplimiento<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**Interacciones:**<br/>â†’ Solicita insights de negocio<br/>â†’ Establece prioridades de recolecciÃ³n<br/>â†’ Revisa cumplimiento Ã©tico"]

    %% Target Systems
    TargetWebsites["ğŸŒ Ecosistemas Web Objetivo<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ¯ **Fuentes de Datos Complejas**<br/>â€¢ **Aplicaciones SPA**: Sitios React, Vue, Angular<br/>â€¢ **Plataformas E-commerce**: CatÃ¡logos, precios<br/>â€¢ **Redes Sociales**: Contenido generado por usuarios<br/>â€¢ **Noticias y Medios**: Feeds de contenido en tiempo real<br/>â€¢ **Mercados Financieros**: Datos de trading, analÃ­ticas<br/>â€¢ **Portales Gubernamentales**: Registros pÃºblicos, regulaciones<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**DesafÃ­os:**<br/>â€¢ Renderizado pesado con JavaScript<br/>â€¢ Flujos de autenticaciÃ³n<br/>â€¢ ProtecciÃ³n CAPTCHA<br/>â€¢ LimitaciÃ³n de velocidad y bloqueo de IP<br/>â€¢ Carga dinÃ¡mica de contenido"]

    %% External Services
    ProxyInfrastructure["ğŸ” Capa de Proxies y Seguridad<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ›¡ï¸ **Servicios de AnonimizaciÃ³n**<br/>â€¢ **Proxies Residenciales**: RotaciÃ³n de IP domÃ©sticas<br/>â€¢ **Proxies de Datacenter**: ExtracciÃ³n de alta velocidad<br/>â€¢ **DistribuciÃ³n GeogrÃ¡fica**: Pools de IP globales<br/>â€¢ **Persistencia de SesiÃ³n**: GestiÃ³n de cookies<br/>â€¢ **ResoluciÃ³n CAPTCHA**: 2captcha, Anti-Captcha<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**Beneficios:**<br/>â†’ Evita detecciÃ³n y bloqueos<br/>â†’ Supera restricciones geogrÃ¡ficas<br/>â†’ Escala volumen de extracciÃ³n<br/>â†’ Mantiene seguridad operacional"]

    NotificationChannels["ğŸ“§ Centro de Comunicaciones<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ“¨ **Alertas Multi-Canal**<br/>â€¢ **Notificaciones Email**: IntegraciÃ³n SES<br/>â€¢ **IntegraciÃ³n Slack**: ColaboraciÃ³n en equipo<br/>â€¢ **Alertas SMS**: Notificaciones de fallos crÃ­ticos<br/>â€¢ **Endpoints Webhook**: Integraciones de sistemas<br/>â€¢ **Alertas de Tablero**: Monitoreo en tiempo real<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**Tipos de Alertas:**<br/>â†’ Estado de finalizaciÃ³n de trabajos<br/>â†’ Alertas de errores y excepciones<br/>â†’ Violaciones de umbrales de calidad<br/>â†’ Monitoreo de salud del sistema"]

    %% Main System
    subgraph "Plataforma Inteligente de Web Scraping"
        direction TB
        
        OrchestratorAgent["ğŸ¯ ORQUESTADOR DE SCRAPING<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ§  **Dominio: CoordinaciÃ³n de Flujos y PlanificaciÃ³n**<br/>â€¢ **Descubrimiento A2A**: Registro dinÃ¡mico de agentes<br/>â€¢ **DescomposiciÃ³n de Trabajos**: DivisiÃ³n de tareas complejas<br/>â€¢ **AsignaciÃ³n de Recursos**: AsignaciÃ³n inteligente de agentes<br/>â€¢ **Monitoreo de EjecuciÃ³n**: Seguimiento de progreso en tiempo real<br/>â€¢ **RecuperaciÃ³n de Fallos**: Reintentos automÃ¡ticos y escalamiento<br/>â€¢ **Balanceo de Carga**: DistribuciÃ³n de carga entre agentes<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**LLM:** Claude 3 Haiku (Toma de Decisiones RÃ¡pida)<br/>**Rol A2A:** Cliente Principal - coordina todos los agentes<br/>**Infraestructura:** Lambda (512MB), orquestaciÃ³n EventBridge<br/>**Datos:** DynamoDB (estado de trabajos), S3 (logs de ejecuciÃ³n)"]

        ReconnaissanceAgent["ğŸ” RECONOCIMIENTO DE SITIOS<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ§  **Dominio: Inteligencia Web y AnÃ¡lisis**<br/>â€¢ **IntegraciÃ³n Playwright-MCP**: Perfilado inicial de sitios<br/>â€¢ **DetecciÃ³n de Stack TecnolÃ³gico**: IdentificaciÃ³n de frameworks<br/>â€¢ **Mapeo de Flujos de AutenticaciÃ³n**: AnÃ¡lisis de secuencias de login<br/>â€¢ **Descubrimiento de LÃ­mites**: DetecciÃ³n de patrones de throttling<br/>â€¢ **EvaluaciÃ³n Anti-Bot**: AnÃ¡lisis de mecanismos de protecciÃ³n<br/>â€¢ **Arquitectura de Contenido**: Mapeo estÃ¡tico vs dinÃ¡mico<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**LLM:** Claude 3 Sonnet (AnÃ¡lisis TÃ©cnico Profundo)<br/>**Rol A2A:** Servidor de Inteligencia - provee perfiles de sitios<br/>**Herramientas:** Playwright-MCP para reconocimiento<br/>**Infraestructura:** Lambda (1GB), timeout extendido<br/>**Datos:** DynamoDB (perfiles de sitios), S3 (reportes de anÃ¡lisis)"]

        BrowserAgent["ğŸ¤– AUTOMATIZACIÃ“N DE NAVEGADOR<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ§  **Dominio: NavegaciÃ³n Web Interactiva**<br/>â€¢ **IntegraciÃ³n Browser-Use**: Control de navegador dirigido por IA<br/>â€¢ **NavegaciÃ³n Inteligente**: Manejo de flujos de usuario complejos<br/>â€¢ **Manejo de Contenido DinÃ¡mico**: Espera de renderizado JS<br/>â€¢ **AutomatizaciÃ³n de Formularios**: Llenado y envÃ­o inteligente<br/>â€¢ **GestiÃ³n de AutenticaciÃ³n**: EjecuciÃ³n de secuencias de login<br/>â€¢ **Persistencia de SesiÃ³n**: GestiÃ³n de cookies y estado<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**LLM:** Claude 3.5 Sonnet (Razonamiento Avanzado)<br/>**Rol A2A:** Servidor de EjecuciÃ³n - maneja tareas de navegador<br/>**Herramientas:** Browser-Use para navegaciÃ³n IA<br/>**Infraestructura:** Lambda (3GB), soporte para contenedores<br/>**Datos:** S3 (capturas de pantalla), DynamoDB (datos de sesiÃ³n)"]

        ExtractionAgent["ğŸ“Š EXTRACCIÃ“N DE DATOS<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ§  **Dominio: Procesamiento y ExtracciÃ³n de Contenido**<br/>â€¢ **Control Playwright-MCP**: Targeting preciso de elementos<br/>â€¢ **SelecciÃ³n Impulsada por IA**: GeneraciÃ³n inteligente de selectores CSS<br/>â€¢ **Soporte Multi-Formato**: Texto, imÃ¡genes, documentos<br/>â€¢ **MinerÃ­a de Datos Estructurados**: Parsing JSON-LD, microdata<br/>â€¢ **DeduplicaciÃ³n de Contenido**: DetecciÃ³n inteligente de duplicados<br/>â€¢ **EvaluaciÃ³n de Calidad**: ValidaciÃ³n de completitud de contenido<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**LLM:** Claude 3 Sonnet (Reconocimiento de Patrones)<br/>**Rol A2A:** Servidor de Procesamiento - extrae datos estructurados<br/>**Herramientas:** Playwright-MCP para extracciÃ³n precisa<br/>**Infraestructura:** Lambda (2GB), procesamiento de alta memoria<br/>**Datos:** S3 (contenido crudo), DynamoDB (metadata de extracciÃ³n)"]

        ValidationAgent["âœ… ASEGURAMIENTO DE CALIDAD<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ§  **Dominio: Calidad de Datos y ValidaciÃ³n**<br/>â€¢ **ValidaciÃ³n de Esquemas**: VerificaciÃ³n de cumplimiento de estructura<br/>â€¢ **PuntuaciÃ³n de Calidad**: EvaluaciÃ³n de completitud<br/>â€¢ **ValidaciÃ³n de Reglas de Negocio**: Reglas especÃ­ficas del dominio<br/>â€¢ **DetecciÃ³n de AnomalÃ­as**: IdentificaciÃ³n de valores atÃ­picos estadÃ­sticos<br/>â€¢ **PuntuaciÃ³n de Confianza**: MÃ©tricas de confiabilidad de extracciÃ³n<br/>â€¢ **Enriquecimiento de Datos**: Inferencia de campos faltantes<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**LLM:** Claude 3 Haiku (ClasificaciÃ³n RÃ¡pida)<br/>**Rol A2A:** Servidor de ValidaciÃ³n - asegura calidad de datos<br/>**Infraestructura:** Lambda (1GB), procesamiento por lotes<br/>**Datos:** DynamoDB (mÃ©tricas de calidad), S3 (datasets validados)"]

        TransformationAgent["ğŸ”„ TRANSFORMACIÃ“N DE DATOS<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ§  **Dominio: Procesamiento de Datos y ETL**<br/>â€¢ **EstandarizaciÃ³n de Formatos**: Salida JSON, CSV, Parquet<br/>â€¢ **Limpieza de Datos**: EliminaciÃ³n de ruido y normalizaciÃ³n<br/>â€¢ **Mapeo de Esquemas**: TransformaciÃ³n a formatos objetivo<br/>â€¢ **AgregaciÃ³n y Resumen**: Procesamiento estadÃ­stico<br/>â€¢ **PreparaciÃ³n de ExportaciÃ³n**: GeneraciÃ³n de salida multi-formato<br/>â€¢ **IntegraciÃ³n API**: Conectividad con sistemas de terceros<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**LLM:** Claude 3 Haiku (Procesamiento Eficiente)<br/>**Rol A2A:** Servidor de TransformaciÃ³n - procesa datos finales<br/>**Infraestructura:** Lambda (1.5GB), operaciones por lotes<br/>**Datos:** S3 (datasets procesados), DynamoDB (logs de transformaciÃ³n)"]

        MonitoringAgent["ğŸ“Š MONITOREO DEL SISTEMA<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ§  **Dominio: Observabilidad y GestiÃ³n de Salud**<br/>â€¢ **Monitoreo de Rendimiento**: Seguimiento de salud de agentes<br/>â€¢ **AnÃ¡lisis de Errores**: IdentificaciÃ³n de patrones de fallo<br/>â€¢ **OptimizaciÃ³n de Recursos**: AnÃ¡lisis de patrones de uso<br/>â€¢ **Mantenimiento Predictivo**: DetecciÃ³n proactiva de problemas<br/>â€¢ **OptimizaciÃ³n de Costos**: Seguimiento de utilizaciÃ³n de recursos<br/>â€¢ **Monitoreo SLA**: Cumplimiento de niveles de servicio<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**LLM:** Claude 3 Haiku (AnÃ¡lisis en Tiempo Real)<br/>**Rol A2A:** Servidor Observador - inteligencia del sistema<br/>**Infraestructura:** Lambda (512MB), integraciÃ³n CloudWatch<br/>**Datos:** MÃ©tricas CloudWatch, DynamoDB (datos de salud)"]
    end

    %% A2A Protocol Integration
    A2ARegistry["ğŸ—‚ï¸ Registro de Agentes A2A<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**Descubrimiento de Servicios y CoordinaciÃ³n**<br/>â€¢ **Tarjetas de Agentes**: Metadata de capacidades y endpoints<br/>â€¢ **Estado de Salud**: Seguimiento de disponibilidad en tiempo real<br/>â€¢ **Balanceo de Carga**: LÃ³gica de distribuciÃ³n de solicitudes<br/>â€¢ **GestiÃ³n de Versiones**: Seguimiento de despliegues de agentes<br/>â€¢ **AutenticaciÃ³n**: Protocolos de seguridad A2A<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**ImplementaciÃ³n:**<br/>â†’ Tabla de registro DynamoDB<br/>â†’ CoordinaciÃ³n EventBridge<br/>â†’ ComunicaciÃ³n JSON-RPC<br/>â†’ AutenticaciÃ³n OAuth2 de agentes"]

    %% Infrastructure Components
    AWSInfrastructure["â˜ï¸ Infraestructura AWS Serverless<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**Arquitectura 100% Serverless**<br/>â€¢ **API Gateway**: Endpoints de API RESTful<br/>â€¢ **EventBridge**: CoordinaciÃ³n dirigida por eventos<br/>â€¢ **Funciones Lambda**: Agentes en contenedores<br/>â€¢ **Bedrock**: Acceso LLM bajo demanda<br/>â€¢ **DynamoDB**: GestiÃ³n de estado NoSQL<br/>â€¢ **Buckets S3**: Almacenamiento de objetos para datos/logs<br/>â€¢ **CloudWatch**: Monitoreo y observabilidad<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>**Beneficios:**<br/>â†’ EjecuciÃ³n con auto-escalado<br/>â†’ Precios de pago por uso<br/>â†’ Alta disponibilidad<br/>â†’ Cero gestiÃ³n de servidores"]

    %% User Interactions
    DataAnalyst -->|"Solicitudes de Scraping<br/>ConfiguraciÃ³n<br/>Monitoreo"| OrchestratorAgent
    BusinessStakeholder -->|"Requisitos de Negocio<br/>EstÃ¡ndares de Calidad<br/>Reglas de Cumplimiento"| OrchestratorAgent
    
    OrchestratorAgent -->|"Actualizaciones de Progreso<br/>Entrega de Resultados<br/>Reportes de Calidad"| DataAnalyst
    OrchestratorAgent -->|"Inteligencia de Negocio<br/>Reportes de Cumplimiento<br/>MÃ©tricas de Ã‰xito"| BusinessStakeholder

    %% A2A Inter-Agent Communication
    OrchestratorAgent <-->|"Descubrimiento A2A<br/>AsignaciÃ³n de Tareas<br/>JSON-RPC"| A2ARegistry
    
    OrchestratorAgent -->|"Solicitudes de AnÃ¡lisis de Sitios<br/>A2A JSON-RPC"| ReconnaissanceAgent
    ReconnaissanceAgent -->|"Inteligencia de Sitios<br/>Perfiles TÃ©cnicos"| OrchestratorAgent
    
    OrchestratorAgent -->|"Tareas de NavegaciÃ³n<br/>Control de Navegador"| BrowserAgent
    BrowserAgent -->|"Estado de PÃ¡gina<br/>Resultados de NavegaciÃ³n"| OrchestratorAgent
    
    ReconnaissanceAgent -->|"Perfil de Sitio<br/>Estrategia de NavegaciÃ³n"| BrowserAgent
    BrowserAgent -->|"Contenido Listo<br/>Triggers de ExtracciÃ³n"| ExtractionAgent
    
    ExtractionAgent -->|"Datos Crudos<br/>Metadata de ExtracciÃ³n"| ValidationAgent
    ValidationAgent -->|"PuntuaciÃ³n de Calidad<br/>Resultados de ValidaciÃ³n"| TransformationAgent
    
    TransformationAgent -->|"Procesamiento Completo<br/>Datasets Finales"| OrchestratorAgent
    MonitoringAgent <-->|"MÃ©tricas de Salud<br/>Datos de Rendimiento"| OrchestratorAgent

    %% External System Interactions
    BrowserAgent <-->|"Navegador Headless<br/>Interacciones de PÃ¡gina<br/>Comandos Browser-Use"| TargetWebsites
    ReconnaissanceAgent <-->|"AnÃ¡lisis Inicial<br/>Sondas Playwright-MCP"| TargetWebsites
    ExtractionAgent <-->|"ExtracciÃ³n de Datos<br/>Control Playwright-MCP"| TargetWebsites
    
    BrowserAgent <-->|"RotaciÃ³n de IP<br/>GestiÃ³n de Sesiones<br/>Cambio de Proxies"| ProxyInfrastructure
    
    MonitoringAgent -->|"Alertas y Notificaciones<br/>Actualizaciones de Estado<br/>Reportes de Errores"| NotificationChannels

    %% Agent Registry Registration
    ReconnaissanceAgent -->|"Registrar Capacidades<br/>Actualizar Tarjeta de Agente"| A2ARegistry
    BrowserAgent -->|"Registro de Servicio<br/>ExposiciÃ³n de Endpoints"| A2ARegistry
    ExtractionAgent -->|"DeclaraciÃ³n de Capacidades<br/>Actualizaciones de Salud"| A2ARegistry
    ValidationAgent -->|"Servicios de Calidad<br/>Endpoints de ValidaciÃ³n"| A2ARegistry
    TransformationAgent -->|"Servicios de Procesamiento<br/>APIs de TransformaciÃ³n"| A2ARegistry
    MonitoringAgent -->|"Servicios de ObservaciÃ³n<br/>APIs de Monitoreo"| A2ARegistry

    %% Infrastructure Relationships
    OrchestratorAgent -.->|"EjecuciÃ³n Serverless<br/>Auto-escalado"| AWSInfrastructure
    ReconnaissanceAgent -.->|"Runtime Lambda<br/>LLM Bedrock"| AWSInfrastructure
    BrowserAgent -.->|"Soporte Contenedores<br/>Runtime Extendido"| AWSInfrastructure
    ExtractionAgent -.->|"ComputaciÃ³n Alta Memoria<br/>Almacenamiento S3"| AWSInfrastructure
    ValidationAgent -.->|"Procesamiento por Lotes<br/>DynamoDB"| AWSInfrastructure
    TransformationAgent -.->|"Operaciones ETL<br/>ExportaciÃ³n Multi-formato"| AWSInfrastructure
    MonitoringAgent -.->|"IntegraciÃ³n CloudWatch<br/>MÃ©tricas en Tiempo Real"| AWSInfrastructure

    %% Styling
    classDef user fill:#e3f2fd,stroke:#1976d2,stroke-width:3px,color:#000
    classDef orchestrator fill:#fff3e0,stroke:#f57c00,stroke-width:3px,color:#000
    classDef domainAgent fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef infrastructure fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,color:#000
    classDef external fill:#ffebee,stroke:#d32f2f,stroke-width:2px,color:#000
    classDef integration fill:#fff8e1,stroke:#fbc02d,stroke-width:2px,color:#000
    
    class DataAnalyst,BusinessStakeholder user
    class OrchestratorAgent orchestrator
    class ReconnaissanceAgent,BrowserAgent,ExtractionAgent,ValidationAgent,TransformationAgent,MonitoringAgent domainAgent
    class A2ARegistry,AWSInfrastructure infrastructure
    class TargetWebsites,ProxyInfrastructure,NotificationChannels external